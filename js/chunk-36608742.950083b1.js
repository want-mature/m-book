(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36608742"],{2469:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"info"},[i("div",{staticClass:"content-left"},[t.info.bookUrl?i("div",[i("div",[i("div",{staticClass:"magnifier"},[i("img",{attrs:{src:s("ff2b")("./assets"+t.info.bookUrl+".jpg"),alt:""}})]),i("div",{staticClass:"top-right"},[i("p",[t._v(t._s(t.info.bookName))]),i("div",{staticClass:"price"},[t._v("￥"+t._s(t.info.price))]),i("div",{staticClass:"au"},[t._v("作者："+t._s(t.info.au))]),i("div",{staticClass:"au"},[t._v("出版社："+t._s(t.info.pub))]),i("div",{staticClass:"au"},[t._v("出版时间："+t._s(t.info.time))]),i("div",{staticClass:"au"},[t._v("类别："+t._s(t.info.class))]),i("div",{staticClass:"au"},[t._v("读者评分：10分")]),i("div",{staticClass:"au"},[t._v("装帧: 精装")]),i("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.addCart(t.info)}}},[t._v("加入购物车")])],1)]),i("div",{staticClass:"p-title"},[t._v("内容简介")]),i("p",{staticClass:"p-text"},[t._v(t._s(t.info.p1))]),i("p",{staticClass:"p-text"},[t._v(t._s(t.info.p2))]),i("p",{staticClass:"p-text"},[t._v(t._s(t.info.p3))])]):t._e(),i("div",{staticClass:"p-title"},[t._v("相关书籍")]),i("div",{staticClass:"re-list"},[i("ReItem",{attrs:{reItemList:t.reItemList}})],1),i("div",{staticClass:"clearfix"})]),i("div",{staticClass:"content-right"},[i("FourCard",{on:{changeQuery:t.changeQuery}})],1),i("div",{staticClass:"clearfix"}),i("Bottom")],1)},a=[],n=(s("4160"),s("159b"),s("bc3a")),o=s.n(n),c=s("b53f"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.reItemList,(function(e){return i("div",{key:e.bookId,staticClass:"item"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:s("ff2b")("./assets"+e.bookUrl+".jpg"),alt:""}})]),i("div",{staticClass:"middle"},[i("div",{staticClass:"item-title"},[t._v(t._s(e.bookName))]),i("p",{staticClass:"item-text"},[t._v(t._s(e.info1))])]),i("div",{staticClass:"right"},[i("div",{staticClass:"price"},[t._v("￥"+t._s(e.price))]),i("div",{staticClass:"btn",on:{click:function(s){return t.addCart(e)}}},[t._v("加入购物车")])])])})),0)},l=[],u={props:{reItemList:{type:Array,default:[]}},data:function(){return{time:""}},methods:{addCart:function(t){var e=this,s=(new Date).getFullYear(),i=(new Date).getMonth(),a=(new Date).getDate(),n=(new Date).getHours(),c=(new Date).getMinutes(),r=(new Date).getSeconds();this.time=s+"-"+i+"-"+a+" "+n+":"+c+":"+r;var l="/api/info/add";o.a.post(l,{bookId:t.bookId,phone:this.$store.state.user.phone,addTime:this.time,count:t.count}).then((function(t){console.log(t),1062==t.data?e.$message({title:"警告",message:"购物车已存在该图书",type:"warning"}):e.$message({title:"成功",message:"加入购物车成功",type:"success"})})).catch((function(t){console.error(t)}))}}},d=u,f=(s("695f"),s("2877")),v=Object(f["a"])(d,r,l,!1,null,null,null),p=v.exports,g=s("bf34"),h=s("b3ad"),m={data:function(){return{query:"",magnifierList:[{list:[{url:s("4f4a")}]}],reItemList:[],info:{},isLogin:null,time:""}},components:{FourCard:c["a"],ReItem:p,Bottom:g["a"]},created:function(){this.query=this.$route.query,this.getInfoList(),this.getRemList()},mounted:function(){},methods:{addCart:function(t){var e=this;if(JSON.parse(window.sessionStorage.getItem("user"))){var s="/api/info/add",i=(new Date).getFullYear(),a=(new Date).getMonth(),n=(new Date).getDate(),c=(new Date).getHours(),r=(new Date).getMinutes(),l=(new Date).getSeconds();this.time=i+"-"+a+"-"+n+" "+c+":"+r+":"+l,o.a.post(s,{phone:this.$store.state.user.phone,bookId:t.bookId,count:t.count,time:this.time}).then((function(t){console.log(t),1062==t.data?e.$message({title:"警告",message:"购物车已存在该图书",type:"warning"}):e.$message({title:"成功",message:"加入购物车成功",type:"success"})})).catch((function(t){console.error(t)}))}else this.$check()},getInfoList:function(){var t=this;Object(h["f"])(this.query.id).then((function(e){void 0!=e.data[0]&&(t.info=e.data[0])})),console.log(this.info)},getRemList:function(){var t=this;Object(h["c"])().then((function(e){e.data.forEach((function(e){t.reItemList.push(e)}))}))},changeQuery:function(t){this.query.id=t,this.getInfoList()}}},_=m,C=(s("9e66"),Object(f["a"])(_,i,a,!1,null,null,null));e["default"]=C.exports},3147:function(t,e,s){},"695f":function(t,e,s){"use strict";s("3147")},"9e66":function(t,e,s){"use strict";s("a3db")},a3db:function(t,e,s){}}]);