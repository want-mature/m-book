(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3619a24"],{1148:function(e,s,a){"use strict";var t=a("a691"),r=a("1d80");e.exports="".repeat||function(e){var s=String(r(this)),a="",n=t(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(s+=s))1&n&&(a+=s);return a}},"38cf":function(e,s,a){var t=a("23e7"),r=a("1148");t({target:"String",proto:!0},{repeat:r})},"3b1f":function(e,s,a){"use strict";a.r(s);var t=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"regis"},[a("div",{staticClass:"regis-content"},[a("h2",[e._v("新用户注册")]),a("div",{staticClass:"sss"},[a("span",[e._v("已有账户？")]),e._v(" "),a("span",{staticClass:"login",on:{click:e.toLogin}},[e._v("请登录")])]),e.isRegis?a("div",[a("el-input",{staticClass:"use",attrs:{placeholder:"请输入手机号",clearable:""},model:{value:e.userphone,callback:function(s){e.userphone=s},expression:"userphone"}}),a("el-input",{staticClass:"use",attrs:{placeholder:"请输入密码",clearable:""},model:{value:e.userpassword,callback:function(s){e.userpassword=s},expression:"userpassword"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("立即登录")])],1):a("div",[a("el-input",{staticClass:"use",attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),a("el-input",{staticClass:"use",attrs:{placeholder:"请输入手机号码",clearable:""},model:{value:e.phone,callback:function(s){e.phone=s},expression:"phone"}}),a("el-input",{staticClass:"use",attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}}),a("el-input",{staticClass:"use",attrs:{placeholder:"请输入密码",clearable:""},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),a("el-input",{staticClass:"use",attrs:{placeholder:"请输入密码",clearable:""},model:{value:e.repeat,callback:function(s){e.repeat=s},expression:"repeat"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.regis}},[e._v("注册")])],1)]),a("Bottom")],1)},r=[],n=(a("38cf"),a("bf34")),i=a("bc3a"),o=a.n(i),l={data:function(){return{username:"",phone:"",email:"",password:"",repeat:"",userpassword:"",userphone:"",isRegis:!1,avatar:""}},components:{Bottom:n["a"]},methods:{regis:function(){var e=this;this.repeat==this.password?o.a.post("/api/regis/adduser",{username:this.username,phone:this.phone,email:this.email,password:this.password,avatar:this.avatar?this.avatar:""}).then((function(s){console.log(s),"注册成功"==s.data.msg?e.$message({title:"成功",message:s.data.msg,type:"success"}):e.$message({title:"警告",message:s.data,type:"warning"})})).catch((function(e){console.error(e)})):this.$message({title:"警告",message:"两次密码不一致",type:"warning"})},toLogin:function(){this.isRegis=!0},login:function(){var e=this;this.userpassword||this.$message({title:"警告",message:"请输入密码",type:"warning"}),o.a.post("/api/login",{userphone:this.userphone,userpassword:this.userpassword}).then((function(s){if("密码错误"==s.data)e.$message({title:"警告",message:s.data,type:"warning"});else{e.$message({title:"成功",message:"登录成功",type:"success"});var a={username:s.data[0].username,phone:s.data[0].phone,token:s.data[0].token,avatar:s.data[0].avatar,email:s.data[0].email};e.$store.commit("saveUser",JSON.stringify(a)),e.$router.go(-1),window.sessionStorage.setItem("user",JSON.stringify(a))}})).catch((function(e){console.error(e)}))}}},c=l,u=(a("7e23"),a("2877")),p=Object(u["a"])(c,t,r,!1,null,null,null);s["default"]=p.exports},4286:function(e,s,a){},"7e23":function(e,s,a){"use strict";a("4286")}}]);